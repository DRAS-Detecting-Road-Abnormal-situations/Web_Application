<!DOCTYPE html>
<html>
  <head>
    <title>map</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/map/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-3.2.1.min.js"></script>
    <script src="resources/scripts/axure/axQuery.js"></script>
    <script src="resources/scripts/axure/globals.js"></script>
    <script src="resources/scripts/axutils.js"></script>
    <script src="resources/scripts/axure/annotation.js"></script>
    <script src="resources/scripts/axure/axQuery.std.js"></script>
    <script src="resources/scripts/axure/doc.js"></script>
    <script src="resources/scripts/messagecenter.js"></script>
    <script src="resources/scripts/axure/events.js"></script>
    <script src="resources/scripts/axure/recording.js"></script>
    <script src="resources/scripts/axure/action.js"></script>
    <script src="resources/scripts/axure/expr.js"></script>
    <script src="resources/scripts/axure/geometry.js"></script>
    <script src="resources/scripts/axure/flyout.js"></script>
    <script src="resources/scripts/axure/model.js"></script>
    <script src="resources/scripts/axure/repeater.js"></script>
    <script src="resources/scripts/axure/sto.js"></script>
    <script src="resources/scripts/axure/utils.temp.js"></script>
    <script src="resources/scripts/axure/variables.js"></script>
    <script src="resources/scripts/axure/drag.js"></script>
    <script src="resources/scripts/axure/move.js"></script>
    <script src="resources/scripts/axure/visibility.js"></script>
    <script src="resources/scripts/axure/style.js"></script>
    <script src="resources/scripts/axure/adaptive.js"></script>
    <script src="resources/scripts/axure/tree.js"></script>
    <script src="resources/scripts/axure/init.temp.js"></script>
    <script src="resources/scripts/axure/legacy.js"></script>
    <script src="resources/scripts/axure/viewer.js"></script>
    <script src="resources/scripts/axure/math.js"></script>
    <script src="resources/scripts/axure/jquery.nicescroll.min.js"></script>
    <script src="data/document.js"></script>
    <script src="files/map/data.js"></script>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=rpbl1d7siz">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
	<style>
	body{margin:0px;}
	</style>
  </head>
  <body>
    <div id="map" style="width: 1496px; height:695px;"></div>
	<script>
		var map = new naver.maps.Map('map', {
			center: new naver.maps.LatLng(37.5666805, 126.9784147),
			zoom: 17,
			mapTypeId: naver.maps.MapTypeId.NORMAL
		});

		function onSuccessGeolocation(position) {
			var location = new naver.maps.LatLng(position.coords.latitude,
											 position.coords.longitude);

			map.setCenter(location); // 얻은 좌표를 지도의 중심으로 설정합니다.
			map.setZoom(17); // 지도의 줌 레벨을 변경합니다.

			var markerOptions = {
				position: location,
				map: map,
				icon: {
					url: './images/CAR1.png',
					size: new naver.maps.Size(21, 38),
					origin: new naver.maps.Point(0, 0),
					anchor: new naver.maps.Point(11, 35)
				}
			};
			
			var marker = new naver.maps.Marker(markerOptions);
			console.log('Coordinates: ' + location.toString());
		}

		function onErrorGeolocation() {
			var center = map.getCenter();

			infowindow.setContent('<div style="padding:20px;">' +
				'<h5 style="margin-bottom:5px;color:#f00;">Geolocation failed!</h5>'+ "latitude: "+ center.lat() +"<br />longitude: "+ center.lng() +'</div>');

			infowindow.open(map, center);
		}

		$(window).on("load", function() {
			if (navigator.geolocation) {
				/**
				 * navigator.geolocation 은 Chrome 50 버젼 이후로 HTTP 환경에서 사용이 Deprecate 되어 HTTPS 환경에서만 사용 가능 합니다.
				 * http://localhost 에서는 사용이 가능하며, 테스트 목적으로, Chrome 의 바로가기를 만들어서 아래와 같이 설정하면 접속은 가능합니다.
				 * chrome.exe --unsafely-treat-insecure-origin-as-secure="http://example.com"
				 */
				navigator.geolocation.getCurrentPosition(onSuccessGeolocation, onErrorGeolocation);
			} else {
				var center = map.getCenter();
				infowindow.setContent('<div style="padding:20px;"><h5 style="margin-bottom:5px;color:#f00;">Geolocation not supported</h5></div>');
				infowindow.open(map, center);
			}
		});
		
		var position1 = new naver.maps.LatLng(37.335465,127.257920);
		var position2 = new naver.maps.LatLng(37.333464,127.248054);
		var position3 = new naver.maps.LatLng(37.339249,127.249938);
		var position4 = new naver.maps.LatLng(37.419168,126.922588);
		var position5 = new naver.maps.LatLng(37.419617,126.925459);
		var position6 = new naver.maps.LatLng(37.419828,126.923773);
		
		var markerOptions1 = {
			position: position1,
			map: map,
			icon: {
				url: './images/CCTV1.png',
				size: new naver.maps.Size(29, 29),
				origin: new naver.maps.Point(0, 0),
				anchor: new naver.maps.Point(11, 35)
			}
		};
		var markerOptions2 = {
			position: position2,
			map: map,
			icon: {
				url: './images/CCTV2.png',
				size: new naver.maps.Size(29, 29),
				origin: new naver.maps.Point(0, 0),
				anchor: new naver.maps.Point(11, 35)
			}
		};
		var markerOptions3 = {
			position: position3,
			map: map,
			icon: {
				url: './images/CCTV3.png',
				size: new naver.maps.Size(29, 29),
				origin: new naver.maps.Point(0, 0),
				anchor: new naver.maps.Point(11, 35)
			}
		};
		var markerOptions4 = {
			position: position4,
			map: map,
			icon: {
				url: './images/CCTV1.png',
				size: new naver.maps.Size(29, 29),
				origin: new naver.maps.Point(0, 0),
				anchor: new naver.maps.Point(11, 35)
			}
		};
		var markerOptions5 = {
			position: position5,
			map: map,
			icon: {
				url: './images/CCTV2.png',
				size: new naver.maps.Size(29, 29),
				origin: new naver.maps.Point(0, 0),
				anchor: new naver.maps.Point(11, 35)
			}
		};
		var markerOptions6 = {
			position: position6,
			map: map,
			icon: {
				url: './images/CCTV3.png',
				size: new naver.maps.Size(29, 29),
				origin: new naver.maps.Point(0, 0),
				anchor: new naver.maps.Point(11, 35)
			}
		};
		
		var marker = new naver.maps.Marker(markerOptions1);
		var marker = new naver.maps.Marker(markerOptions2);
		var marker = new naver.maps.Marker(markerOptions3);
		var marker = new naver.maps.Marker(markerOptions4);
		var marker = new naver.maps.Marker(markerOptions5);
		var marker = new naver.maps.Marker(markerOptions6);
	</script>
	
    <script src="resources/scripts/axure/ios.js"></script>
  </body>
</html>
